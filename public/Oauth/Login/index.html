<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Battle.net Login</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;background:#0b0f14;color:#e6e6e6}
.card{background:#141a22;border:1px solid #263241;border-radius:16px;padding:24px;max-width:460px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
h1{font-size:1.1rem;margin:0 0 12px 0}
p{opacity:.85;margin:0 0 20px 0}
a.button{display:inline-block;padding:12px 16px;border-radius:10px;background:#5865F2;color:#fff;text-decoration:none;font-weight:600}
small{display:block;margin-top:14px;opacity:.75}
</style>
</head>
<body>
<div class="card">
<h1>Continue with Battle.net</h1>
<p>Redirecting you to Battle.net to authenticateâ€¦</p>
<a id="fallback" class="button" href="#">Open Battle.net Login</a>
<small>If nothing happens, click the button.</small>
</div>
<script>
const CLIENT_ID="5263abec98844e65a65295d8fee46f91";
const REDIRECT_URI="https://mikumiku.dev/oauth/callback";
const AUTHORIZE="https://oauth.battle.net/authorize";
const state=new URLSearchParams(location.search).get("state")||"";
if(!state){alert("Missing state parameter.");}else{
  const q=new URLSearchParams({
    client_id:CLIENT_ID,
    scope:"openid wow.profile",
    redirect_uri:REDIRECT_URI,
    response_type:"code",
    state
  });
  const url=`${AUTHORIZE}?${q.toString()}`;
  document.getElementById("fallback").href=url;
  location.replace(url);
}
</script>
</body>
</html>
