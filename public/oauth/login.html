<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Battle.net sign-in</title>
<style>body{margin:0;background:#0b1220;color:#e5e7eb;font:16px system-ui,Segoe UI,Roboto}main{max-width:680px;margin:8vh auto;padding:24px;border:1px solid #1f2937;border-radius:16px;background:linear-gradient(180deg,#111827cc,#0b1324cc)}h1{margin:0 0 8px;font-size:20px}p{color:#9ca3af}a.button{display:inline-block;margin-top:12px;padding:10px 14px;border-radius:10px;border:1px solid #2563eb;background:linear-gradient(180deg,#3b82f6,#2563eb);color:#fff;text-decoration:none;font-weight:600}</style>
<main>
  <h1>Battle.net sign-in</h1>
  <p>Continue to authenticate with Blizzard.</p>
  <a id="go" class="button" href="#">Continue</a>
</main>
<script>
const params=new URLSearchParams(location.search);
const state=params.get("state")||"";
function go(){
  const redirect=location.origin+location.pathname.replace("login.html","callback.html");
  const q=new URLSearchParams({client_id:"{{CLIENT_ID}}",scope:"openid wow.profile",redirect_uri:redirect,response_type:"code",state:state});
  location.href="https://oauth.battle.net/authorize?"+q.toString();
}
document.getElementById("go").addEventListener("click",go);
document.addEventListener("DOMContentLoaded",()=>{if(state)go()});
</script>
